<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabla</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="page">
        <nav class="page__menu menu">
          <ul class="menu__list r-list">
            <li class="menu__group"><a href="./login.html" class="menu__link r-link text-underlined">login</a></li>
            <li class="menu__group"><a href="./index.html" class="menu__link r-link text-underlined">Registro</a></li>
            <li class="menu__group"><a href="./tablaregistro.html" class="menu__link r-link text-underlined">Tabla</a></li>
          </ul>
        </nav>
      </div>

    <div class="container">
        <h2 >Tabla de registro</h2>

        <div class="card border-dark my-5">
            <div class="card-body cardbody-color">
                <div class="card-text">
                    <table class="table table-bordered " id="tablaUsuarios">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Apellido</th>
                                <th>Dirección</th>
                                <th>Identificacion</th>
                                <th>Edad</th>
                                <th>Sexo</th>
                                <th>Email</th>
                                <th>Telefono</th>

                            </tr>
                        </thead>
                        <tbody id="tablaUsuariosBody">
                            <!-- Aquí se generarán las filas de la tabla con JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Otras partes de la tarjeta y el cuerpo de la página aquí -->
        </div>
    </div>

    <script>
        // Obtener los datos de la URL
        const params = new URLSearchParams(window.location.search);
        const usuariosEncoded = params.get("datos");

        // Decodificar los datos
        const usuariosJSON = decodeURIComponent(usuariosEncoded);

        // Convertir los datos nuevamente a un array de objetos
        const usuarios = JSON.parse(usuariosJSON);

        // Función para cargar los datos en la tabla
        function cargarUsuarios() {
            const tablaUsuariosBody = document.getElementById("tablaUsuariosBody");

            usuarios.forEach(usuario => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${usuario.nombre}</td>
                    <td>${usuario.apellido}</td>
                    <td>${usuario.direccion}</td>
                    <td>${usuario.identificacion}</td>
                    <td>${usuario.edad}</td>
                    <td>${usuario.sexo}</td>
                    <td>${usuario.email}</td>
                    <td>${usuario.telefono}</td>
                `;
                tablaUsuariosBody.appendChild(row);
            });
        }

        // Llamar a la función para cargar los usuarios cuando se cargue la página
        window.onload = cargarUsuarios;
    </script>


    <footer id="sticky-footer" class="p-3 mb-2  text-white">
        <div class="footer-tabla">
          <small>Copyright &copy; Cesar De Leon</small>
        </div>
      </footer>
      
    
</body>
</html>
